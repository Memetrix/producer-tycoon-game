# Producer Tycoon - –ü–æ–ª–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ü—Ä–æ–µ–∫—Ç–∞

**–í–µ—Ä—Å–∏—è:** 2.0 (–û–±–Ω–æ–≤–ª–µ–Ω–æ –ø–æ—Å–ª–µ –∞—É–¥–∏—Ç–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)
**–î–∞—Ç–∞:** 20 –æ–∫—Ç—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** 90% MVP –≥–æ—Ç–æ–≤, —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä –ü—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–ò–≥—Ä–æ–≤—ã–µ –°–∏—Å—Ç–µ–º—ã](#–∏–≥—Ä–æ–≤—ã–µ-—Å–∏—Å—Ç–µ–º—ã)
4. [–ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
5. [API –∏ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏](#api-–∏-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
6. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
7. [–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è](#–ø–æ—Å–ª–µ–¥–Ω–∏–µ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
8. [–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã](#–∏–∑–≤–µ—Å—Ç–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)
9. [Roadmap](#roadmap)

---

## –û–±–∑–æ—Ä –ü—Ä–æ–µ–∫—Ç–∞

### –ß—Ç–æ —ç—Ç–æ?
Producer Tycoon - –º–æ–±–∏–ª—å–Ω–∞—è idle/incremental –∏–≥—Ä–∞ –≥–¥–µ –≤—ã —Å—Ç—Ä–æ–∏—Ç–µ –∫–∞—Ä—å–µ—Ä—É –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–¥—é—Å–µ—Ä–∞. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –±–∏—Ç—ã —á–µ—Ä–µ–∑ —Ä–∏—Ç–º-–∏–≥—Ä—É, —É–ª—É—á—à–∞–π—Ç–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –Ω–∞–Ω–∏–º–∞–π—Ç–µ –∞—Ä—Ç–∏—Å—Ç–æ–≤ –∏ –ø–æ–¥–Ω–∏–º–∞–π—Ç–µ—Å—å –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ!

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫
- **Frontend**: Next.js 15 (App Router), TypeScript, Tailwind CSS v4
- **Backend**: Supabase (PostgreSQL + Auth)
- **Storage**: Vercel Blob
- **AI**: Groq API (–Ω–∞–∑–≤–∞–Ω–∏—è –±–∏—Ç–æ–≤), fal.ai (–æ–±–ª–æ–∂–∫–∏)
- **Deployment**: Vercel

### –ö–ª—é—á–µ–≤—ã–µ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –†–∏—Ç–º-–∏–≥—Ä–∞ —Å OSU beatmap –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π (29+ —Ç—Ä–µ–∫–æ–≤)
- ‚úÖ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –±–∏—Ç–æ–≤ –∏ –æ–±–ª–æ–∂–µ–∫
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ (–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –∞—Ä—Ç–∏—Å—Ç—ã, —Å–∫–∏–ª–ª—ã)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥ –∏ offline earnings
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —ç–Ω–µ—Ä–≥–∏–∏ —Å —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –§–∞–π–ª–æ–≤

\`\`\`
producer-tycoon-game/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                 # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generate-beat-name/  # Groq API –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generate-beat-cover/ # fal.ai –¥–ª—è –æ–±–ª–æ–∂–µ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ leaderboards/        # –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ globals.css              # Tailwind v4 –∫–æ–Ω—Ñ–∏–≥
‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ home-screen.tsx          # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
‚îÇ   ‚îú‚îÄ‚îÄ stage-screen.tsx         # –°–æ–∑–¥–∞–Ω–∏–µ –±–∏—Ç–æ–≤ + —Ä–∏—Ç–º-–∏–≥—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ studio-screen.tsx        # –£–ª—É—á—à–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ artists-screen.tsx       # –ù–∞–π–º –∞—Ä—Ç–∏—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ contracts-screen.tsx     # –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ skills-screen.tsx        # –î–µ—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ leaderboards-screen.tsx  # –†–µ–π—Ç–∏–Ω–≥–∏
‚îÇ   ‚îú‚îÄ‚îÄ shop-screen.tsx          # –ú–∞–≥–∞–∑–∏–Ω (Telegram Stars)
‚îÇ   ‚îî‚îÄ‚îÄ rhythm-game-rhythm-plus.tsx  # –†–∏—Ç–º-–∏–≥—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ game-state.ts            # –¢–∏–ø—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —Ö–µ–ª–ø–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ game-storage.ts          # Supabase –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ osz-parser.ts            # –ü–∞—Ä—Å–∏–Ω–≥ OSU beatmaps
‚îÇ   ‚îî‚îÄ‚îÄ rhythm-plus/             # –î–≤–∏–∂–æ–∫ —Ä–∏—Ç–º-–∏–≥—Ä—ã
‚îÇ
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ *.sql                    # SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ *.ts                     # TypeScript —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ
‚îî‚îÄ‚îÄ public/
    ‚îî‚îÄ‚îÄ tracks/                  # OSZ —Ñ–∞–π–ª—ã (29+ —Ç—Ä–µ–∫–æ–≤)
\`\`\`

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–æ—Å—Ç–æ—è–Ω–∏–µ–º

**–ü–∞—Ç—Ç–µ—Ä–Ω**: Lift state to `app/page.tsx`, –ø–µ—Ä–µ–¥–∞—á–∞ —á–µ—Ä–µ–∑ props

**–ü–æ—á–µ–º—É –Ω–µ Context API?**
- –ü—Ä–æ—â–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ú–µ–Ω—å—à–µ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤
- –ü—Ä—è–º–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**:
- –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ –≤ Supabase
- –ü—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –ü–æ—Å–ª–µ –≤–∞–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ –±–∏—Ç–∞, –ø–æ–∫—É–ø–∫–∞)

---

## –ò–≥—Ä–æ–≤—ã–µ –°–∏—Å—Ç–µ–º—ã

### 1. –°–∏—Å—Ç–µ–º–∞ –≠–Ω–µ—Ä–≥–∏–∏

**–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã** (`lib/game-state.ts`):
\`\`\`typescript
BASE_MAX_ENERGY = 150
ENERGY_REGEN_RATE = 2 // –≤ –º–∏–Ω—É—Ç—É
BEAT_ENERGY_COST = 15
\`\`\`

**–†–∞—Å—á–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–∏**:
\`\`\`typescript
function calculateMaxEnergy(gameState: GameState): number {
  let maxEnergy = BASE_MAX_ENERGY
  
  // –ë–æ–Ω—É—Å—ã –æ—Ç –∞—Ä—Ç–∏—Å—Ç–æ–≤
  Object.entries(gameState.artists).forEach(([artistId, level]) => {
    const artist = ARTISTS[artistId]
    maxEnergy += artist.energyBonus * level
  })
  
  // –ë–æ–Ω—É—Å—ã –æ—Ç —Å–∫–∏–ª–ª–æ–≤
  if (gameState.skills.stamina) maxEnergy *= 1.2
  
  // –°—Ç–∞—Ä—Ç–æ–≤—ã–π –±–æ–Ω—É—Å
  if (gameState.startingBonus === "energizer") maxEnergy += 50
  
  return Math.floor(maxEnergy)
}
\`\`\`

**–†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è**:
- –ö–ª–∏–µ–Ω—Ç: `setInterval` –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥, +0.167 —ç–Ω–µ—Ä–≥–∏–∏
- –°–µ—Ä–≤–µ—Ä: –†–∞—Å—á–µ—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ `last_active`

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ë–∏—Ç–æ–≤

**–ü–æ—Ç–æ–∫** (`components/stage-screen.tsx`):

1. **–í—ã–±–æ—Ä —Ç—Ä–µ–∫–∞** ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ OSZ —Ñ–∞–π–ª–∞
2. **–í—ã–±–æ—Ä —Å–ª–æ–∂–Ω–æ—Å—Ç–∏** ‚Üí –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ beatmap (1-5)
3. **–†–∏—Ç–º-–∏–≥—Ä–∞** ‚Üí –ò–≥—Ä–æ–∫ –∏–≥—Ä–∞–µ—Ç, –ø–æ–ª—É—á–∞–µ—Ç accuracy
4. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è AI** ‚Üí –ù–∞–∑–≤–∞–Ω–∏–µ (Groq) + –û–±–ª–æ–∂–∫–∞ (fal.ai)
5. **–†–∞—Å—á–µ—Ç –∫–∞—á–µ—Å—Ç–≤–∞** ‚Üí –ù–∞ –æ—Å–Ω–æ–≤–µ accuracy, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
6. **–†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã** ‚Üí –ö–∞—á–µ—Å—Ç–≤–æ √ó –°–ª–æ–∂–Ω–æ—Å—Ç—å √ó –†–µ–ø—É—Ç–∞—Ü–∏—è √ó –°–∫–∏–ª–ª—ã
7. **–ù–∞–≥—Ä–∞–¥—ã** ‚Üí –î–µ–Ω—å–≥–∏ + –†–µ–ø—É—Ç–∞—Ü–∏—è
8. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** ‚Üí –ë–∏—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

**–§–æ—Ä–º—É–ª–∞ –∫–∞—á–µ—Å—Ç–≤–∞**:
\`\`\`typescript
quality = (accuracy * 0.6) + (equipmentBonus * 0.3) + (difficultyBonus * 0.1)
\`\`\`

**–§–æ—Ä–º—É–ª–∞ —Ü–µ–Ω—ã**:
\`\`\`typescript
basePrice = 30
qualityBonus = Math.max(0, (quality - 60) * 1.5) // –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º!
difficultyMultiplier = 1 + (difficulty - 1) * 0.3
reputationBonus = reputation * 0.05
tierMultiplier = getTierPriceMultiplier(reputation)
skillMultiplier = getSkillPriceMultiplier(skills)

finalPrice = (basePrice + qualityBonus + reputationBonus) 
             √ó difficultyMultiplier 
             √ó tierMultiplier 
             √ó skillMultiplier
\`\`\`

### 3. –°–∏—Å—Ç–µ–º–∞ –ö–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

**–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞!** (`components/contracts-screen.tsx`)

**–¢–∏–ø—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤**:
- **Volume**: –°–æ–∑–¥–∞—Ç—å N –±–∏—Ç–æ–≤
- **Quality**: –°–æ–∑–¥–∞—Ç—å –±–∏—Ç—ã —Å –∫–∞—á–µ—Å—Ç–≤–æ–º ‚â• X%
- **Accuracy**: –°–æ–∑–¥–∞—Ç—å –±–∏—Ç—ã —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é ‚â• X%
- **Combined**: –ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- **Time-limited**: –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞ N —á–∞—Å–æ–≤

**–°–ª–æ–∂–Ω–æ—Å—Ç–∏**:
- **Easy** (Tier 2+): 2-3 –±–∏—Ç–∞, 60% –∫–∞—á–µ—Å—Ç–≤–æ, $500-1000 + 20-30 rep
- **Medium** (Tier 3+): 3-5 –±–∏—Ç–æ–≤, 70% –∫–∞—á–µ—Å—Ç–≤–æ, $2000-4000 + 50-80 rep
- **Hard** (Tier 4+): 5-8 –±–∏—Ç–æ–≤, 80% –∫–∞—á–µ—Å—Ç–≤–æ, $8000-15000 + 150-250 rep

**–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞**:
\`\`\`typescript
interface ContractProgress {
  contractId: string
  beatsCreated: number
  beatsRequired: number
  startedAt: number
  expiresAt?: number
}
\`\`\`

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–∏—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã:
\`\`\`typescript
gameState.activeContracts.forEach(contract => {
  if (beatMeetsRequirements(beat, contract)) {
    contract.progress.beatsCreated++
    if (contract.progress.beatsCreated >= contract.requirements.beats) {
      // –ö–æ–Ω—Ç—Ä–∞–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω!
    }
  }
})
\`\`\`

### 4. –°–∏—Å—Ç–µ–º–∞ –†–µ–ø—É—Ç–∞—Ü–∏–∏

**6 —Ç–∏—Ä–æ–≤**:
| –¢–∏—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ | –†–µ–ø—É—Ç–∞—Ü–∏—è | –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ü–µ–Ω—ã |
|-----|----------|-----------|----------------|
| 1 | –£–ª–∏—Ü–∞ | 0-500 | 1.0x |
| 2 | –ê–Ω–¥–µ–≥—Ä–∞—É–Ω–¥ | 500-2000 | 1.2x |
| 3 | –í–æ—Å—Ö–æ–¥—è—â–∏–π | 2000-5000 | 1.5x |
| 4 | –ü—Ä–∏–∑–Ω–∞–Ω–Ω—ã–π | 5000-10000 | 1.8x |
| 5 | –ò–∑–≤–µ—Å—Ç–Ω—ã–π | 10000-20000 | 2.1x |
| 6 | –õ–µ–≥–µ–Ω–¥–∞ | 20000+ | 2.5x |

**–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ —Ç–∏—Ä–∞–º**:
- Tier 1: –ë–∞–∑–æ–≤—ã–µ –∞—Ä—Ç–∏—Å—Ç—ã (Street Poet, MC Flow, Lil Dreamer, Young Legend)
- Tier 2: –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã Easy, –∞—Ä—Ç–∏—Å—Ç—ã (Local Hero, Scene Leader)
- Tier 3: –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã Medium, –∞—Ä—Ç–∏—Å—Ç—ã (City Star, State Champion)
- Tier 4: –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã Hard
- Tier 5: –õ–µ–π–±–ª—ã Major
- Tier 6: –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

### 5. –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ

**6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π, 10 —É—Ä–æ–≤–Ω–µ–π –∫–∞–∂–¥–∞—è**:
1. **Phone** (–¢–µ–ª–µ—Ñ–æ–Ω) - –±–∞–∑–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
2. **Headphones** (–ù–∞—É—à–Ω–∏–∫–∏) - –∫–∞—á–µ—Å—Ç–≤–æ –∑–≤—É–∫–∞
3. **Microphone** (–ú–∏–∫—Ä–æ—Ñ–æ–Ω) - –∑–∞–ø–∏—Å—å –≤–æ–∫–∞–ª–∞
4. **Computer** (–ö–æ–º–ø—å—é—Ç–µ—Ä) - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
5. **MIDI** (MIDI-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞) - —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ–ª–æ–¥–∏–π
6. **Audio Interface** (–ê—É–¥–∏–æ–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å) - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∑–≤—É–∫

**–§–æ—Ä–º—É–ª–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏**:
\`\`\`typescript
cost = basePrice √ó 1.4^currentLevel
\`\`\`

**–ë–æ–Ω—É—Å –∫–∞—á–µ—Å—Ç–≤–∞**:
\`\`\`typescript
equipmentQuality = sum(allEquipmentLevels) √ó 0.5
\`\`\`

### 6. –ê—Ä—Ç–∏—Å—Ç—ã

**8 –∞—Ä—Ç–∏—Å—Ç–æ–≤, 3 —Ç–∏—Ä–∞**:

**Tier 1** (0 rep):
- Street Poet (Hip-Hop) - $5/min, +2% energy
- MC Flow (Trap) - $8/min, +3% energy
- Lil Dreamer (R&B) - $6/min, +2% energy
- Young Legend (Pop) - $10/min, +4% energy

**Tier 2** (500 rep):
- Local Hero (R&B) - $20/min, +5% energy
- Scene Leader (Trap) - $25/min, +6% energy

**Tier 3** (2000 rep):
- City Star (Pop) - $50/min, +8% energy
- State Champion (Hip-Hop) - $60/min, +10% energy

**–§–æ—Ä–º—É–ª–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏**:
\`\`\`typescript
cost = baseCost √ó 1.6^currentLevel
\`\`\`

### 7. –°–∫–∏–ª–ª—ã

**3 –≤–µ—Ç–∫–∏, 9 —Å–∫–∏–ª–ª–æ–≤**:

**Energy Branch**:
- Caffeine Rush (Tier 1, 500 rep, $5000) - –°—Ç–æ–∏–º–æ—Å—Ç—å –±–∏—Ç–∞ -10% —ç–Ω–µ—Ä–≥–∏–∏
- Stamina (Tier 2, 2000 rep, $20000) - –ú–∞–∫—Å. —ç–Ω–µ—Ä–≥–∏—è +20%
- Flow State (Tier 3, 5000 rep, $50000) - –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è +1/–º–∏–Ω

**Quality Branch**:
- Ear Training (Tier 1, 500 rep, $5000) - –ö–∞—á–µ—Å—Ç–≤–æ +5%
- Studio Mastery (Tier 2, 2000 rep, $20000) - –ö–∞—á–µ—Å—Ç–≤–æ +10%
- Perfect Pitch (Tier 3, 5000 rep, $50000) - –ö–∞—á–µ—Å—Ç–≤–æ +15%

**Money Branch**:
- Negotiation (Tier 1, 500 rep, $5000) - –¶–µ–Ω–∞ +10%
- Marketing (Tier 2, 2000 rep, $20000) - –¶–µ–Ω–∞ +20%
- Brand Power (Tier 3, 5000 rep, $50000) - –¶–µ–Ω–∞ +30%

---

## –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ Supabase

**–¢–∞–±–ª–∏—Ü–∞**: `game_state`

\`\`\`sql
CREATE TABLE game_state (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users(id) UNIQUE NOT NULL,
  
  -- –†–µ—Å—É—Ä—Å—ã
  money DECIMAL DEFAULT 500,
  reputation INTEGER DEFAULT 0,
  energy INTEGER DEFAULT 150,
  
  -- –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ (0-10)
  equipment_phone INTEGER DEFAULT 0,
  equipment_headphones INTEGER DEFAULT 0,
  equipment_mic INTEGER DEFAULT 0,
  equipment_computer INTEGER DEFAULT 0,
  equipment_midi INTEGER DEFAULT 0,
  equipment_audio_interface INTEGER DEFAULT 0,
  
  -- –ê—Ä—Ç–∏—Å—Ç—ã (0-10)
  artist_street_poet INTEGER DEFAULT 0,
  artist_mc_flow INTEGER DEFAULT 0,
  artist_lil_dreamer INTEGER DEFAULT 0,
  artist_young_legend INTEGER DEFAULT 0,
  artist_local_hero INTEGER DEFAULT 0,
  artist_scene_leader INTEGER DEFAULT 0,
  artist_city_star INTEGER DEFAULT 0,
  artist_state_champion INTEGER DEFAULT 0,
  
  -- –°–∫–∏–ª–ª—ã (boolean)
  skill_caffeine_rush BOOLEAN DEFAULT FALSE,
  skill_stamina BOOLEAN DEFAULT FALSE,
  skill_flow_state BOOLEAN DEFAULT FALSE,
  skill_ear_training BOOLEAN DEFAULT FALSE,
  skill_studio_mastery BOOLEAN DEFAULT FALSE,
  skill_perfect_pitch BOOLEAN DEFAULT FALSE,
  skill_negotiation BOOLEAN DEFAULT FALSE,
  skill_marketing BOOLEAN DEFAULT FALSE,
  skill_brand_power BOOLEAN DEFAULT FALSE,
  
  -- –õ–µ–π–±–ª—ã (boolean)
  label_indie BOOLEAN DEFAULT FALSE,
  label_small BOOLEAN DEFAULT FALSE,
  label_major BOOLEAN DEFAULT FALSE,
  
  -- –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã (JSONB)
  active_contracts JSONB DEFAULT '[]'::jsonb,
  completed_contracts JSONB DEFAULT '[]'::jsonb,
  
  -- –ü–µ—Ä—Å–æ–Ω–∞–∂
  avatar_url TEXT,
  character_name TEXT,
  gender TEXT,
  music_style TEXT,
  starting_bonus TEXT,
  
  -- –ü—Ä–æ–≥—Ä–µ—Å—Å
  total_beats_created INTEGER DEFAULT 0,
  total_money_earned DECIMAL DEFAULT 0,
  
  -- Timestamps
  last_active TIMESTAMP DEFAULT NOW(),
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
\`\`\`

**–¢–∞–±–ª–∏—Ü–∞**: `songs` (—Ç—Ä–µ–∫–∏)

\`\`\`sql
CREATE TABLE songs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  artist TEXT NOT NULL,
  osz_url TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
\`\`\`

**–¢–∞–±–ª–∏—Ü–∞**: `beats` (—Å–æ–∑–¥–∞–Ω–Ω—ã–µ –±–∏—Ç—ã)

\`\`\`sql
CREATE TABLE beats (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users(id) NOT NULL,
  name TEXT NOT NULL,
  cover_url TEXT,
  quality INTEGER NOT NULL,
  price DECIMAL NOT NULL,
  difficulty INTEGER NOT NULL,
  accuracy DECIMAL NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
\`\`\`

### RLS Policies

\`\`\`sql
-- game_state
CREATE POLICY "Users can view own game state"
  ON game_state FOR SELECT
  USING (auth.uid() = user_id);

CREATE POLICY "Users can update own game state"
  ON game_state FOR UPDATE
  USING (auth.uid() = user_id);

-- beats
CREATE POLICY "Users can view own beats"
  ON beats FOR SELECT
  USING (auth.uid() = user_id);

CREATE POLICY "Users can insert own beats"
  ON beats FOR INSERT
  WITH CHECK (auth.uid() = user_id);
\`\`\`

---

## API –∏ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 1. Groq API (–ù–∞–∑–≤–∞–Ω–∏—è –±–∏—Ç–æ–≤)

**Endpoint**: `/api/generate-beat-name`

**–ó–∞–ø—Ä–æ—Å**:
\`\`\`typescript
POST /api/generate-beat-name
{
  "originalName": "Feel Good Inc.",
  "originalArtist": "Gorillaz"
}
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`typescript
{
  "beatName": "Vibe Syndicate"
}
\`\`\`

**–ü—Ä–æ–º–ø—Ç**:
\`\`\`
You are a creative music producer. Create a parody/homage beat name based on the original track.

Original: Feel Good Inc. by Gorillaz

Create a short, catchy beat name (2-4 words) that's a playful reference to the original.
Be creative and varied - here are some example styles:
- "Vibe Syndicate" (corporate twist)
- "Good Energy Co." (business parody)
- "Mood Factory" (industrial theme)
- "Chill Corporation" (office humor)

Only respond with the beat name, nothing else.
\`\`\`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- Model: `llama-3.3-70b-versatile`
- Temperature: 0.9 (–¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è)
- Max tokens: 20

### 2. fal.ai (–û–±–ª–æ–∂–∫–∏ –±–∏—Ç–æ–≤)

**Endpoint**: `/api/generate-beat-cover`

**–ó–∞–ø—Ä–æ—Å**:
\`\`\`typescript
POST /api/generate-beat-cover
{
  "beatName": "Vibe Syndicate"
}
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`typescript
{
  "coverUrl": "https://blob.vercel-storage.com/..."
}
\`\`\`

**–ü—Ä–æ—Ü–µ—Å—Å**:
1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ —á–µ—Ä–µ–∑ Groq
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ fal.ai (FLUX.1 dev)
3. –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Vercel Blob
4. –í–æ–∑–≤—Ä–∞—Ç URL

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã fal.ai**:
- Model: `fal-ai/flux-dev`
- Image size: `square_hd` (512x512)
- Num inference steps: 28
- Guidance scale: 3.5

### 3. Leaderboards API

**Endpoint**: `/api/leaderboards`

**–ó–∞–ø—Ä–æ—Å**:
\`\`\`typescript
GET /api/leaderboards?type=global&playerId=uuid
GET /api/leaderboards?type=weekly&playerId=uuid
\`\`\`

**–û—Ç–≤–µ—Ç**:
\`\`\`typescript
{
  "leaderboard": [
    {
      "rank": 1,
      "userId": "uuid",
      "name": "Player Name",
      "avatar": "url",
      "reputation": 5000,
      "totalBeats": 150,
      "totalMoney": 500000,
      "score": 550000
    },
    // ... top 10
  ],
  "currentPlayer": {
    "rank": 42,
    "score": 12000
  }
}
\`\`\`

**–†–∞—Å—á–µ—Ç score**:
\`\`\`typescript
score = total_money_earned + (reputation √ó 10)
\`\`\`

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ì–ª–∞–≤–Ω—ã–µ –≠–∫—Ä–∞–Ω—ã

**1. HomeScreen** (`components/home-screen.tsx`)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (–¥–µ–Ω—å–≥–∏, —Ä–µ–ø—É—Ç–∞—Ü–∏—è, —ç–Ω–µ—Ä–≥–∏—è)
- –ü—Ä–æ–≥—Ä–µ—Å—Å —Ç–∏—Ä–∞
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)
- –ò—Å—Ç–æ—Ä–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ –±–∏—Ç—ã)
- Offline earnings –º–æ–¥–∞–ª–∫–∞

**2. StageScreen** (`components/stage-screen.tsx`)
- –í—ã–±–æ—Ä —Ç—Ä–µ–∫–∞ –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –í—ã–±–æ—Ä —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (1-5)
- –ó–∞–ø—É—Å–∫ —Ä–∏—Ç–º-–∏–≥—Ä—ã
- AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –æ–±–ª–æ–∂–∫–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∏—Ç–∞

**3. StudioScreen** (`components/studio-screen.tsx`)
- 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
- –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
- –ë–æ–Ω—É—Å –∫–∞—á–µ—Å—Ç–≤–∞
- –ö–Ω–æ–ø–∫–∞ —É–ª—É—á—à–µ–Ω–∏—è

**4. ArtistsScreen** (`components/artists-screen.tsx`)
- 8 –∞—Ä—Ç–∏—Å—Ç–æ–≤ —Å –ø–æ—Ä—Ç—Ä–µ—Ç–∞–º–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- –ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥/—á–∞—Å
- –ë–æ–Ω—É—Å —ç–Ω–µ—Ä–≥–∏–∏
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
- –ö–Ω–æ–ø–∫–∞ –Ω–∞–π–º–∞/—É–ª—É—á—à–µ–Ω–∏—è

**5. ContractsScreen** (`components/contracts-screen.tsx`)
- 3 –≤–∫–ª–∞–¥–∫–∏: –î–æ—Å—Ç—É–ø–Ω—ã–µ, –ê–∫—Ç–∏–≤–Ω—ã–µ, –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ
- –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã
- –¢–∞–π–º–µ—Ä—ã –¥–ª—è time-limited
- –ö–Ω–æ–ø–∫–∏ Accept/Cancel/Complete
- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞

**6. SkillsScreen** (`components/skills-screen.tsx`)
- 3 –≤–µ—Ç–∫–∏ —Å–∫–∏–ª–ª–æ–≤
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
- –°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –û–ø–∏—Å–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

**7. LeaderboardsScreen** (`components/leaderboards-screen.tsx`)
- –í–∫–ª–∞–¥–∫–∏ Global/Weekly
- Top 10 –∏–≥—Ä–æ–∫–æ–≤
- –í–∏–Ω–∏–ª–æ–≤—ã–µ –¥–∏—Å–∫–∏ –¥–ª—è —Ç–æ–ø-3
- –¢–µ–∫—É—â–∏–π —Ä–∞–Ω–≥ –∏–≥—Ä–æ–∫–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Ä–µ–ø—É—Ç–∞—Ü–∏—è, –±–∏—Ç—ã, –¥–µ–Ω—å–≥–∏)

**8. ShopScreen** (`components/shop-screen.tsx`)
- 4 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: Combos, Energy, Money, Reputation
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram Stars
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∫—É–ø–æ–∫
- –¢–æ—Å—Ç—ã —É—Å–ø–µ—Ö–∞/–æ—à–∏–±–∫–∏

### –†–∏—Ç–º-–ò–≥—Ä–∞

**RhythmGameRhythmPlus** (`components/rhythm-game-rhythm-plus.tsx`)
- Canvas-based —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- 4 –¥–æ—Ä–æ–∂–∫–∏ (Kick, Snare, Hi-Hat, Tom)
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (D/F/J/K)
- –¢–∞—á-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- –°–∏—Å—Ç–µ–º–∞ HP (0-100%)
- –ö–æ–º–±–æ —Å–∏—Å—Ç–µ–º–∞
- –°–∫–æ—Ä–∏–Ω–≥ (Perfect/Good/Offbeat/Miss)
- –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (DrumSynthesizer)

**–î–≤–∏–∂–æ–∫** (`lib/rhythm-plus/`)
- `GameInstance.ts` - –≥–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
- `Track.ts` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Ä–æ–∂–∫–∞–º–∏
- `Note.ts` - –Ω–æ—Ç—ã –∏ —Ö–∏—Ç-–¥–µ—Ç–µ–∫—Ü–∏—è
- `AudioManager.ts` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–º

---

## –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ë–∞–≥–∏ (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã 20.10.2025)

**1. Character Creation Bonuses**
- –ü—Ä–æ–±–ª–µ–º–∞: UI –ø–æ–∫–∞–∑—ã–≤–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤
- –†–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `character-creation.tsx`
- –§–∞–π–ª: `FIXES_APPLIED.md`

**2. Price Calculation Negative Bonus**
- –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–µ < 60% –ø–æ–ª—É—á–∞–ª—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –±–æ–Ω—É—Å
- –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω `Math.max(0, ...)` –≤ —Ñ–æ—Ä–º—É–ª—É
- –§–∞–π–ª: `components/stage-screen.tsx:130`

**3. Contracts Refresh Logic**
- –ü—Ä–æ–±–ª–µ–º–∞: –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞—Å—å –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö
- –†–µ—à–µ–Ω–∏–µ: –£–±—Ä–∞–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
- –§–∞–π–ª: `components/contracts-screen.tsx:254-265`

**4. Music Style ID Inconsistency**
- –ü—Ä–æ–±–ª–µ–º–∞: "hiphop" vs "hip-hop" –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
- –†–µ—à–µ–Ω–∏–µ: –í–µ–∑–¥–µ –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ "hip-hop"
- –§–∞–π–ª—ã: `character-creation.tsx`, `app/page.tsx`

### –°–∏—Å—Ç–µ–º–∞ –ö–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ 20.10.2025)

**–î–æ–±–∞–≤–ª–µ–Ω–æ**:
- –ü–æ–ª–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–∏—Ç–æ–≤
- –¢–∞–π–º–µ—Ä—ã –¥–ª—è time-limited –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏—Å—Ç–µ–∫—à–∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- UI —Å 3 –≤–∫–ª–∞–¥–∫–∞–º–∏
- –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–∞–¥

**–§–∞–π–ª—ã**:
- `lib/game-state.ts` - —Ç–∏–ø—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- `components/contracts-screen.tsx` - UI
- `components/stage-screen.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –±–∏—Ç–æ–≤
- `lib/game-storage.ts` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
- `app/page.tsx` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

### OSZ Error Handling (–î–æ–±–∞–≤–ª–µ–Ω–æ 20.10.2025)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ OSZ —Ñ–∞–π–ª—ã –ª–æ–º–∞–ª–∏ –≤—Å—é –∏–≥—Ä—É

**–†–µ—à–µ–Ω–∏–µ**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ `osz-parser.ts`
- Try-catch –±–ª–æ–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û–ø—Ü–∏—è `checkCRC32: false` –¥–ª—è –º—è–≥–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- Fallback –Ω–∞ –¥—Ä—É–≥–∏–µ —Ç—Ä–µ–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ

**–§–∞–π–ª—ã**:
- `lib/osz-parser.ts`
- `components/stage-screen.tsx`

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã

### –í—ã—Å–æ–∫–∏–π –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**1. –≠–Ω–µ—Ä–≥–∏—è –Ω–µ —Ä–∞—Å—Ç–µ—Ç –≤—ã—à–µ 100**
- –û–ø–∏—Å–∞–Ω–∏–µ: –≠–Ω–µ—Ä–≥–∏—è –∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç –Ω–∞ 100/150
- –ü—Ä–∏—á–∏–Ω–∞: –í–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
- –°—Ç–∞—Ç—É—Å: –¢—Ä–µ–±—É–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

**2. –ú–æ–¥–∞–ª–∫–∞ Offline Earnings –ø—Ä–æ–ø–∞–ª–∞**
- –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ—Å–ª–µ AFK –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª–∫–∞ —Å –∑–∞—Ä–∞–±–æ—Ç–∫–æ–º
- –ü—Ä–∏—á–∏–Ω–∞: –í–æ–∑–º–æ–∂–Ω–æ —É–¥–∞–ª–µ–Ω–∞ –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ
- –°—Ç–∞—Ç—É—Å: –¢—Ä–µ–±—É–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### –°—Ä–µ–¥–Ω–∏–π –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**3. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ OSZ —Ñ–∞–π–ª—ã –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã**
- –û–ø–∏—Å–∞–Ω–∏–µ: `infernal-pulse.osz` –∏ –≤–æ–∑–º–æ–∂–Ω–æ –¥—Ä—É–≥–∏–µ
- –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ zip —Ñ–ª–∞–≥–∞–º–∏
- –°—Ç–∞—Ç—É—Å: –ß–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)

**4. –ü–æ—Ä—Ç—Ä–µ—Ç—ã –∞—Ä—Ç–∏—Å—Ç–æ–≤ - –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã**
- –û–ø–∏—Å–∞–Ω–∏–µ: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∞—Ä—Ç–∏—Å—Ç–æ–≤ –±–µ–∑ –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤
- –†–µ—à–µ–Ω–∏–µ: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ fal.ai
- –°—Ç–∞—Ç—É—Å: –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP

### –ù–∏–∑–∫–∏–π –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**5. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —á–∏—Å–µ–ª**
- –û–ø–∏—Å–∞–Ω–∏–µ: >$1B –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–∞—É—á–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–∏
- –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä (1.2B, 3.5M)
- –°—Ç–∞—Ç—É—Å: –ù–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –≤ 60-–¥–Ω–µ–≤–Ω–æ–º –≥–µ–π–º–ø–ª–µ–µ

---

## Roadmap

### –§–∞–∑–∞ 1: MVP –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (90% –≥–æ—Ç–æ–≤–æ)

**–û—Å—Ç–∞–ª–æ—Å—å**:
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é (–Ω–µ —Ä–∞—Å—Ç–µ—Ç –≤—ã—à–µ 100)
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å offline earnings –º–æ–¥–∞–ª–∫—É
- [ ] –ü–æ—Ñ–∏–∫—Å–∏—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ OSZ —Ñ–∞–π–ª—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ—Ä—Ç—Ä–µ—Ç—ã –∞—Ä—Ç–∏—Å—Ç–æ–≤

### –§–∞–∑–∞ 2: –ö–æ–Ω—Ç–µ–Ω—Ç

**–¢—Ä–µ–∫–∏**:
- [ ] –î–æ–±–∞–≤–∏—Ç—å 70+ —Ç—Ä–µ–∫–æ–≤ (–¥–æ 100 total)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–π –º—É–∑—ã–∫–∏ –æ—Ç –ì—Ä–∏–≥–æ—Ä–∏—è
- [ ] MIDI –ø–∞—Ä—Å–µ—Ä –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤

**–ù–∞—Ä—Ä–∞—Ç–∏–≤**:
- [ ] –°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–ª–æ–≥–æ–≤
- [ ] 30-40 —Å—Ü–µ–Ω –∏—Å—Ç–æ—Ä–∏–∏
- [ ] 4 –∫–æ–Ω—Ü–æ–≤–∫–∏
- [ ] –ü–æ—Ä—Ç—Ä–µ—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π

### –§–∞–∑–∞ 3: –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

**Telegram Stars**:
- [ ] –†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (—Å–µ–π—á–∞—Å —Å–∏–º—É–ª—è—Ü–∏—è)
- [ ] Backend –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–∫—É–ø–æ–∫
- [ ] –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫

**Gacha**:
- [ ] 5 —Ç–∏–ø–æ–≤ —è—â–∏–∫–æ–≤ ($1-$50)
- [ ] –°–∏—Å—Ç–µ–º–∞ pity (90 pulls = legendary)
- [ ] –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è
- [ ] –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—Ä–µ–¥–º–µ—Ç–æ–≤

**Battle Pass**:
- [ ] Free/Premium/Elite —Ç—Ä–µ–∫–∏
- [ ] 30-50 –Ω–∞–≥—Ä–∞–¥
- [ ] –°–∏—Å—Ç–µ–º–∞ —Å–µ–∑–æ–Ω–æ–≤

### –§–∞–∑–∞ 4: Web3

**TON Integration**:
- [ ] TON Connect
- [ ] $BEAT —Ç–æ–∫–µ–Ω
- [ ] TGE (Day 60)
- [ ] NFT —Å–∏—Å—Ç–µ–º–∞

### –§–∞–∑–∞ 5: –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –§–∏—á–∏

**Competitive**:
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π weekly reset
- [ ] –ü—Ä–∏–∑—ã —Ç–æ–ø-100
- [ ] Friend leaderboards

**Viral**:
- [ ] –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- [ ] –°–æ—Ü–∏–∞–ª—å–Ω—ã–π —à–µ—Ä–∏–Ω–≥
- [ ] –ö–ª–∞–Ω—ã/–≥–∏–ª—å–¥–∏–∏

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –ö–æ–º–∞–Ω–¥—ã

### Development

\`\`\`bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm run dev

# –ë–∏–ª–¥ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run build

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –±–∏–ª–¥–∞
npm start
\`\`\`

### SQL Scripts

**–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é**:
\`\`\`sql
-- scripts/restore-energy.sql
UPDATE game_state 
SET energy = 150 
WHERE user_id = auth.uid()::text;
\`\`\`

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é**:
\`\`\`sql
-- scripts/set-energy-custom.sql
UPDATE game_state 
SET energy = 200 
WHERE user_id = auth.uid()::text;
\`\`\`

**–ú–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã**:
\`\`\`sql
-- scripts/max-out-resources.sql
UPDATE game_state 
SET 
  money = 1000000,
  reputation = 50000,
  energy = 500
WHERE user_id = auth.uid()::text;
\`\`\`

### Debugging

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã**:
\`\`\`typescript
console.log("[v0] Game State:", gameState)
console.log("[v0] Max Energy:", calculateMaxEnergy(gameState))
console.log("[v0] Passive Income:", calculateTotalPassiveIncome(gameState))
\`\`\`

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã**:
\`\`\`typescript
console.log("[v0] Active Contracts:", gameState.activeContracts)
console.log("[v0] Available Contracts:", getAvailableContracts(gameState))
\`\`\`

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –†–µ—Å—É—Ä—Å—ã

**Live App**: https://vercel.com/gakhaleksey-4260s-projects/v0-producer-tycoon-app
**v0 Project**: https://v0.app/chat/projects/DR7RjPI607V
**GitHub**: producer-tycoon-game (private)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:
- `README.md` - –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä
- `INSTRUCTIONS_FOR_NEW_CHAT.md` - –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- `FEATURE_AUDIT.md` - –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç —Ñ–∏—á
- `FIXES_APPLIED.md` - –ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- `CRITICAL_BUGS_FOUND.md` - –ù–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏

**–î–∏–∑–∞–π–Ω –î–æ–∫—É–º–µ–Ω—Ç—ã**:
- `ECONOMY_REBALANCE_SPEC.md` - –ë–∞–ª–∞–Ω—Å —ç–∫–æ–Ω–æ–º–∏–∫–∏
- `COMPOSER_BRIEF.md` - –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –º—É–∑—ã–∫–∏
- `GAME_DESIGN_DOCUMENT.md` - –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π GDD

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**: 2.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 20 –æ–∫—Ç—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞**: 90% MVP –≥–æ—Ç–æ–≤
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é –∏ offline earnings
