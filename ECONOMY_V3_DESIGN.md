# Producer Tycoon - Economy Design v3.0 (Production Ready)

> Создано более мощной LLM на основе детального ТЗ
> Дата: 2025-01-10
> Статус: Production Ready

## Оглавление
1. [Основные константы](#константы)
2. [Формулы](#формулы)
3. [Оборудование (50 единиц)](#оборудование)
4. [Артисты (30 единиц)](#артисты)
5. [Навыки (15 единиц)](#навыки)
6. [Прогрессия по дням](#прогрессия)
7. [Ежедневные задания](#задания)
8. [Стрики и награды](#стрики)
9. [Престиж система](#престиж)
10. [План имплементации](#имплементация)

---

## Основные константы

### Энергия
\`\`\`typescript
MAX_ENERGY_BASE = 100
ENERGY_REGEN_BASE = 3 // в минуту (было 1)
ENERGY_PER_BEAT = 15 // (было 20)
FULL_REGEN_TIME = 33 минуты // (было 100)
\`\`\`

### Оффлайн доход
\`\`\`typescript
OFFLINE_EFFICIENCY = 0.5 // 50% от онлайн дохода
OFFLINE_CAP_BASE = 4 часа
OFFLINE_CAP_UPGRADED = 12 часов // с апгрейдами
\`\`\`

### Целевая сессия
\`\`\`typescript
TARGET_SESSION_LENGTH = 10 минут
BEATS_PER_SESSION = 6
SESSIONS_PER_DAY = 3-5
\`\`\`

---

## Формулы

### 1. Цена бита (НОВАЯ - растет со временем!)
\`\`\`typescript
function calculateBeatPrice(quality: number, reputation: number, currentDay: number): number {
  const basePrice = 50
  const dayMultiplier = 1 + (currentDay * 0.1) // +10% каждый день
  const reputationMultiplier = 1 + (reputation / 5000)
  const qualityMultiplier = quality / 100
  
  return basePrice * dayMultiplier * reputationMultiplier * qualityMultiplier
}

// Примеры:
// День 1, 100 качество, 0 реп: $50
// День 7, 100 качество, 1000 реп: $102
// День 30, 150 качество, 10000 реп: $315
// День 60, 200 качество, 100000 реп: $1,400
\`\`\`

### 2. Качество бита
\`\`\`typescript
function calculateBeatQuality(
  accuracy: number,
  equipmentBonuses: number,
  artistBonuses: number,
  courseBonuses: number
): number {
  const baseQuality = 50 + (accuracy * 0.5)
  
  return baseQuality * 
    (1 + equipmentBonuses / 100) * 
    (1 + artistBonuses / 100) * 
    (1 + courseBonuses / 100)
}

// Максимум: 100 * 3 * 2 * 2 = 1200 качества
\`\`\`

### 3. Репутация
\`\`\`typescript
function calculateReputationGain(quality: number, bonuses: number): number {
  const baseRep = quality * 0.1
  return baseRep * (1 + bonuses / 100)
}
\`\`\`

### 4. Доход артиста
\`\`\`typescript
function calculateArtistIncome(
  baseIncome: number,
  level: number,
  bonuses: number,
  isOffline: boolean
): number {
  const leveledIncome = baseIncome * level * Math.pow(1.15, level)
  const bonusedIncome = leveledIncome * (1 + bonuses / 100)
  
  return isOffline ? bonusedIncome * 0.5 : bonusedIncome
}
\`\`\`

---

## Оборудование (50 единиц)

### Категория 1: Phones (10 уровней)
| Уровень | Название | Стоимость | Бонус | Репутация | Кулдаун |
|---------|----------|-----------|-------|-----------|---------|
| 1 | Nokia 3310 | $100 | +2% quality | 0 | 0s |
| 2 | Flip Phone | $250 | +4% quality | 50 | 30s |
| 3 | BlackBerry | $500 | +6% quality | 100 | 60s |
| 4 | iPhone 3G | $1,000 | +8% quality | 200 | 2m |
| 5 | Android Phone | $2,000 | +10% quality | 400 | 5m |
| 6 | iPhone X | $4,000 | +13% quality | 800 | 10m |
| 7 | Flagship Phone | $8,000 | +16% quality | 1,600 | 20m |
| 8 | Gaming Phone | $16,000 | +20% quality | 3,200 | 30m |
| 9 | Foldable Phone | $32,000 | +25% quality | 6,400 | 45m |
| 10 | Future Phone | $64,000 | +30% quality | 12,800 | 60m |

**Итого категории: $127,850**

### Категория 2: Headphones (10 уровней)
| Уровень | Название | Стоимость | Бонус | Репутация | Кулдаун |
|---------|----------|-----------|-------|-----------|---------|
| 1 | Earbuds | $150 | +3% quality | 0 | 0s |
| 2 | Skullcandy | $400 | +6% quality | 75 | 30s |
| 3 | JBL | $800 | +9% quality | 150 | 60s |
| 4 | Beats Solo | $1,600 | +12% quality | 300 | 2m |
| 5 | Sony WH | $3,200 | +15% quality | 600 | 5m |
| 6 | Audio-Technica | $6,400 | +19% quality | 1,200 | 10m |
| 7 | Sennheiser | $12,800 | +23% quality | 2,400 | 20m |
| 8 | Beyerdynamic | $25,600 | +28% quality | 4,800 | 30m |
| 9 | Focal | $51,200 | +35% quality | 9,600 | 45m |
| 10 | Orpheus | $102,400 | +45% quality | 19,200 | 60m |

**Итого категории: $204,550**

### Категория 3: Microphones (10 уровней)
| Уровень | Название | Стоимость | Бонус | Репутация | Кулдаун |
|---------|----------|-----------|-------|-----------|---------|
| 1 | Headset Mic | $200 | +4% quality | 25 | 0s |
| 2 | USB Mic | $550 | +8% quality | 125 | 30s |
| 3 | Blue Yeti | $1,100 | +12% quality | 250 | 60s |
| 4 | AT2020 | $2,200 | +16% quality | 500 | 2m |
| 5 | Rode NT1 | $4,400 | +20% quality | 1,000 | 5m |
| 6 | Shure SM7B | $8,800 | +25% quality | 2,000 | 10m |
| 7 | Neumann TLM | $17,600 | +30% quality | 4,000 | 20m |
| 8 | AKG C414 | $35,200 | +38% quality | 8,000 | 30m |
| 9 | Neumann U87 | $70,400 | +48% quality | 16,000 | 45m |
| 10 | Sony C-800G | $140,800 | +60% quality | 32,000 | 60m |

**Итого категории: $281,250**

### Категория 4: Software (10 уровней)
| Уровень | Название | Стоимость | Бонус | Репутация | Кулдаун |
|---------|----------|-----------|-------|-----------|---------|
| 1 | GarageBand | $0 | +5% quality | 0 | 0s |
| 2 | FL Studio Trial | $300 | +10% quality | 50 | 30s |
| 3 | Reaper | $750 | +15% quality | 200 | 60s |
| 4 | FL Studio | $1,500 | +20% quality | 500 | 2m |
| 5 | Ableton Live | $3,000 | +25% quality | 1,250 | 5m |
| 6 | Logic Pro | $6,000 | +32% quality | 2,500 | 10m |
| 7 | Pro Tools | $12,000 | +40% quality | 5,000 | 20m |
| 8 | Cubase Pro | $24,000 | +50% quality | 10,000 | 30m |
| 9 | Studio Suite | $48,000 | +65% quality | 20,000 | 45m |
| 10 | AI Producer | $96,000 | +85% quality | 40,000 | 60m |

**Итого категории: $191,550**

### Категория 5: Studio (10 уровней)
| Уровень | Название | Стоимость | Бонус | Репутация | Кулдаун |
|---------|----------|-----------|-------|-----------|---------|
| 1 | Bedroom | $500 | +2% all | 100 | 0s |
| 2 | Garage | $1,500 | +4% all | 400 | 60s |
| 3 | Home Studio | $4,500 | +6% all | 1,000 | 3m |
| 4 | Small Studio | $13,500 | +8% all | 2,500 | 10m |
| 5 | Pro Studio | $40,500 | +10% all | 6,000 | 20m |
| 6 | Recording Studio | $121,500 | +13% all | 15,000 | 30m |
| 7 | Music Complex | $364,500 | +16% all | 40,000 | 45m |
| 8 | Label Building | $1,093,500 | +20% all | 100,000 | 60m |
| 9 | Music Tower | $3,280,500 | +25% all | 250,000 | 90m |
| 10 | Empire HQ | $9,841,500 | +35% all | 500,000 | 120m |

**Итого категории: $14,762,000**

### ИТОГО ВСЁ ОБОРУДОВАНИЕ: $15,567,200

---

## Артисты (30 единиц)

### Тир 1: Уличные (День 1-5)

#### 1. Street Kid
- **Базовый доход**: $5/мин
- **Стоимость уровней**: $100, $150, $225, $340, $510, $765, $1,150, $1,725, $2,590, $3,885
- **Итого**: $11,440
- **Репутация**: 0
- **Кулдаун**: 0s

#### 2. Corner MC
- **Базовый доход**: $7/мин
- **Стоимость уровней**: $200, $300, $450, $675, $1,015, $1,525, $2,290, $3,435, $5,155, $7,735
- **Итого**: $22,780
- **Репутация**: 25
- **Кулдаун**: 30s

#### 3. Bus Performer
- **Базовый доход**: $10/мин
- **Стоимость уровней**: $400, $600, $900, $1,350, $2,025, $3,040, $4,560, $6,840, $10,260, $15,390
- **Итого**: $45,365
- **Репутация**: 75
- **Кулдаун**: 60s

### Тир 2: Локальные (День 5-10)

#### 4. Open Mic Star
- **Базовый доход**: $20/мин
- **Стоимость уровней**: $1,000, $1,500, $2,250, $3,375, $5,065, $7,600, $11,400, $17,100, $25,650, $38,475
- **Итого**: $113,415
- **Репутация**: 200
- **Бонус**: +5 макс энергии
- **Кулдаун**: 2m

#### 5. Local Legend
- **Базовый доход**: $30/мин
- **Стоимость уровней**: $2,000, $3,000, $4,500, $6,750, $10,125, $15,190, $22,785, $34,180, $51,270, $76,905
- **Итого**: $226,705
- **Репутация**: 500
- **Бонус**: +10% качество битов
- **Кулдаун**: 5m

#### 6. Club Regular
- **Базовый доход**: $45/мин
- **Стоимость уровней**: $4,000, $6,000, $9,000, $13,500, $20,250, $30,375, $45,565, $68,350, $102,525, $153,790
- **Итого**: $453,355
- **Репутация**: 1,000
- **Бонус**: +0.5 восстановление энергии
- **Кулдаун**: 10m

### Тир 3: Региональные (День 10-20)

#### 7. Radio Voice
- **Базовый доход**: $80/мин
- **Итого**: $1,133,865
- **Репутация**: 2,500
- **Бонус**: +20% репутация
- **Кулдаун**: 15m

#### 8. Festival Act
- **Базовый доход**: $120/мин
- **Итого**: $2,267,730
- **Репутация**: 5,000
- **Бонус**: +15% весь доход
- **Кулдаун**: 20m

#### 9. Viral Star
- **Базовый доход**: $180/мин
- **Итого**: $4,535,460
- **Репутация**: 10,000
- **Бонус**: -2 энергии на бит
- **Кулдаун**: 30m

### Тир 4: Национальные (День 20-35)

#### 10. Chart Topper
- **Базовый доход**: $300/мин
- **Итого**: $11,338,650
- **Репутация**: 25,000
- **Бонус**: +30% качество битов
- **Кулдаун**: 45m

#### 11. Award Winner
- **Базовый доход**: $450/мин
- **Итого**: $22,677,300
- **Репутация**: 50,000
- **Бонус**: +1 восстановление энергии
- **Кулдаун**: 60m

#### 12. Gold Album
- **Базовый доход**: $675/мин
- **Итого**: $45,354,600
- **Репутация**: 100,000
- **Бонус**: ×1.5 оффлайн доход
- **Кулдаун**: 90m

### Тир 5: Мировые (День 35-50)

#### 13. Platinum Star
- **Базовый доход**: $1,000/мин
- **Итого**: $113,386,500
- **Репутация**: 250,000
- **Бонус**: +50% все бонусы
- **Кулдаун**: 2h

#### 14. Diamond Legend
- **Базовый доход**: $1,500/мин
- **Итого**: $226,773,000
- **Репутация**: 500,000
- **Бонус**: -5 энергии на бит
- **Кулдаун**: 3h

#### 15. Hall of Fame
- **Базовый доход**: $2,250/мин
- **Итого**: $453,546,000
- **Репутация**: 1,000,000
- **Бонус**: ×2 цена битов
- **Кулдаун**: 4h

### Тир 6: Легенды (День 50-60)

#### 16. Living Legend
- **Базовый доход**: $3,500/мин
- **Итого**: $1,133,865,000
- **Репутация**: 2,000,000
- **Бонус**: ×2 весь доход
- **Кулдаун**: 6h

#### 17. Music God
- **Базовый доход**: $5,000/мин
- **Итого**: $2,267,730,000
- **Репутация**: 4,000,000
- **Бонус**: ×3 репутация
- **Кулдаун**: 8h

#### 18. The GOAT
- **Базовый доход**: $7,500/мин
- **Итого**: $4,535,460,000
- **Репутация**: 8,000,000
- **Бонус**: ×5 всё
- **Кулдаун**: 12h

*(Всего 30 артистов, показаны первые 18 для примера)*

---

## Навыки (15 единиц)

Навыки покупаются **мгновенно** без кулдаунов - это важно для заполнения "мертвых зон"!

| № | Название | Стоимость | Репутация | Бонус |
|---|----------|-----------|-----------|-------|
| 1 | Beat Theory | $1,000 | 100 | +10% качество битов |
| 2 | Flow Basics | $2,500 | 250 | +5% репутация |
| 3 | Energy Drinks | $5,000 | 500 | +10 макс энергии |
| 4 | Time Management | $10,000 | 1,000 | +0.5 восстановление энергии |
| 5 | Marketing 101 | $25,000 | 2,500 | +15% цена битов |
| 6 | Studio Acoustics | $50,000 | 5,000 | +20% качество битов |
| 7 | Artist Relations | $100,000 | 10,000 | +25% доход артистов |
| 8 | Advanced Production | $250,000 | 25,000 | -3 энергии на бит |
| 9 | Fame Engineering | $500,000 | 50,000 | +50% репутация |
| 10 | Revenue Master | $1,000,000 | 100,000 | +50% весь доход |
| 11 | Energy Mastery | $2,500,000 | 250,000 | +2 восстановление энергии |
| 12 | Viral Formula | $5,000,000 | 500,000 | ×2 репутация |
| 13 | Money Printer | $10,000,000 | 1,000,000 | ×2 пассивный доход |
| 14 | Beat Machine | $25,000,000 | 2,500,000 | -50% стоимость энергии |
| 15 | Industry Titan | $50,000,000 | 5,000,000 | ×3 все бонусы |

**Итого навыки: $94,443,500**

---

## Прогрессия по дням

| День | Целевой доход | Доступный контент | Цели |
|------|---------------|-------------------|------|
| 1 | $1,000-2,000 | Street Kid, Earbuds, GarageBand | Первый артист, 10 битов |
| 3 | $5,000-10,000 | Corner MC, USB Mic, FL Trial | 2-3 артиста, базовое оборудование |
| 7 | $25,000-50,000 | Open Mic Star, Blue Yeti, Ableton | 5-6 артистов, среднее оборудование |
| 14 | $100,000-250,000 | Radio Voice, Shure SM7B, Pro Tools | 10 артистов, продвинутое оборудование |
| 21 | $500,000-1,000,000 | Chart Topper, Neumann U87, Studio Suite | 15 артистов, топовое оборудование |
| 30 | $2,500,000-5,000,000 | Platinum Star, всё оборудование тир 8-9 | 20 артистов, подготовка к престижу |
| 45 | $10,000,000-25,000,000 | Living Legend, максимальное оборудование | 25 артистов, все навыки |
| 60 | $50,000,000-100,000,000 | The GOAT, всё разблокировано | Престиж с максимальным множителем |

---

## Ежедневные задания

### Пул заданий (11 типов)

1. **Создать биты (легко)**: 5 битов → день×$100 + день×10 реп + 50 энергии
2. **Создать биты (средне)**: 10 битов → день×$200 + день×20 реп + 100 энергии
3. **Создать биты (сложно)**: 20 битов → день×$400 + день×40 реп + 200 энергии
4. **Качество (легко)**: 80% точность → день×$150 + день×15 реп
5. **Качество (сложно)**: 95% точность → день×$300 + день×30 реп
6. **Заработать (легко)**: день×$1,000 → день×25 реп + 100 энергии
7. **Заработать (сложно)**: день×$5,000 → день×50 реп + 200 энергии
8. **Репутация (легко)**: день×50 реп → день×$500 + 150 энергии
9. **Репутация (сложно)**: день×200 реп → день×$1,000 + 300 энергии
10. **Купить апгрейд**: 1 апгрейд → день×$250 + день×25 реп
11. **Нанять артиста**: 1 артист → день×$500 + день×50 реп
12. **Идеальный бит**: 100% точность → день×$1,000 + день×100 реп

### Ежедневный выбор
- 2 гарантированных задания (создание битов + заработок/репутация)
- 3 случайных из пула
- **Итого: 5 заданий в день**

---

## Стрики и награды

| Стрик | Деньги | Репутация | Гемы | Бонус (24ч) | Разблокировка |
|-------|--------|-----------|------|-------------|---------------|
| 3 дня | $10k×(1+день/10) | 500×(1+день/10) | 100 | +25% доход | - |
| 7 дней | $50k×(1+день/10) | 2.5k×(1+день/10) | 250 | +50% доход | - |
| 14 дней | $250k×(1+день/10) | 10k×(1+день/10) | 500 | ×2 доход | Streak Master артист |
| 21 день | $1M×(1+день/10) | 25k×(1+день/10) | 1000 | ×3 доход | - |
| 30 дней | $5M×(1+день/10) | 50k×(1+день/10) | 2500 | - | +10% постоянно |
| 60 дней | $50M×(1+день/10) | 500k×(1+день/10) | 10000 | - | +25% постоянно + скин |

---

## Престиж система

### Требования
- Минимум 30 дней игры
- Минимум 1,000,000 репутации

### Формула множителя
\`\`\`typescript
prestige_points = sqrt(total_reputation / 1000000)
multiplier = 1 + (prestige_points * 0.1)

// Примеры:
// 1M реп = 1 поинт = ×1.1
// 10M реп = 3.16 поинтов = ×1.316
// 100M реп = 10 поинтов = ×2.0
\`\`\`

### Постоянные разблокировки
- **1 поинт**: Старт с $10,000
- **3 поинта**: Старт с первыми 3 артистами
- **5 поинтов**: +50% восстановление энергии навсегда
- **10 поинтов**: Пропуск первых 7 дней
- **25 поинтов**: Старт с дня 14
- **50 поинтов**: Престиж-эксклюзивный контент

---

## План имплементации

### Фаза 1: Базовые изменения (2-3 часа)
1. Обновить константы энергии (3/мин, 15 на бит)
2. Добавить прогрессию цены битов (формула с днем и репутацией)
3. Добавить поле `currentDay` в GameState
4. Обновить формулы качества и репутации
5. Добавить систему кулдаунов для апгрейдов

### Фаза 2: Расширение контента (4-6 часов)
1. Добавить 50 единиц оборудования (5 категорий × 10 уровней)
2. Добавить 30 артистов (6 тиров)
3. Добавить 15 навыков
4. Обновить UI для отображения кулдаунов
5. Добавить требования по репутации для разблокировки

### Фаза 3: Системы прогрессии (3-4 часа)
1. Реализовать новые ежедневные задания (11 типов)
2. Реализовать награды за стрики (6 вех)
3. Добавить систему гемов
4. Добавить отслеживание дней игры

### Фаза 4: Престиж (2-3 часа)
1. Создать UI престижа
2. Реализовать формулу множителя
3. Добавить постоянные разблокировки
4. Реализовать сброс прогресса с сохранением бонусов

### Фаза 5: Полировка (2-3 часа)
1. Балансировка на основе тестирования
2. Улучшение UI/UX
3. Добавление анимаций и эффектов
4. Оптимизация производительности

**Общее время: 13-19 часов работы**

---

## Ключевые улучшения v3.0

1. **Нет мертвых зон** - 95 целей для покупки (50 оборудования + 30 артистов + 15 навыков)
2. **Прогрессия цены битов** - активная игра становится выгоднее со временем
3. **Быстрое восстановление энергии** - 33 минуты вместо 100
4. **Кулдауны** - создают ритм игры и предотвращают слишком быстрое прохождение
5. **Навыки без кулдаунов** - заполняют паузы между апгрейдами
6. **Престиж** - бесконечная реиграбельность
7. **60-дневный таймлайн** - четкая прогрессия с целями

---

## Метрики успеха

### Retention
- D1: 45-55%
- D7: 25-35%
- D30: 12-18%
- D60: 5-8%

### Сессии
- Средняя длина: 8-12 минут
- Сессий в день: 3-5
- Битов за сессию: 5-8

### Прогрессия
- Casual (день 30): 50% контента
- Core (день 30): 80% контента
- Hardcore (день 30): 100% контента + готов к престижу
